[gd_scene load_steps=48 format=3 uid="uid://c650qlfktosck"]

[ext_resource type="Script" path="res://src/environment/base_world/base_world.gd" id="1_8sg6m"]
[ext_resource type="PackedScene" uid="uid://dh215tcgvc8ah" path="res://src/entities/items/weapons/range/rocket_launcher/RocketLauncher.tscn" id="2_8dc8r"]
[ext_resource type="PackedScene" uid="uid://cj4fplft47vvo" path="res://src/entities/items/weapons/melee/axe/Axe.tscn" id="3_8hfvc"]
[ext_resource type="PackedScene" uid="uid://h8ykeymdf2if" path="res://src/entities/items/weapons/range/shotgun/SilencedShotgun.tscn" id="3_xi6l6"]
[ext_resource type="PackedScene" uid="uid://danhuydml27p6" path="res://src/entities/items/weapons/range/minigun/Minigun.tscn" id="4_n3v0x"]
[ext_resource type="PackedScene" uid="uid://cl126ejxkbqj7" path="res://src/entities/items/weapons/range/revolver/Revolver.tscn" id="5_5m2br"]
[ext_resource type="PackedScene" uid="uid://c1vf3k0628qo" path="res://src/entities/items/weapons/range/shotgun/Shotgun.tscn" id="6_kj0xf"]
[ext_resource type="PackedScene" path="res://src/entities/items/medkit/Medkit.tscn" id="7_yrpxr"]
[ext_resource type="PackedScene" uid="uid://y83y2bnhu06c" path="res://src/entities/items/weapons/melee/bat/BaseballBat.tscn" id="8_hhgiv"]
[ext_resource type="PackedScene" uid="uid://cdeawyqj5l5gr" path="res://src/entities/items/weapons/range/uzi/Uzi.tscn" id="9_la3tv"]
[ext_resource type="PackedScene" uid="uid://dungsqhw3fx8c" path="res://src/entities/items/weapons/range/gatling/Gatling.tscn" id="10_7edd8"]
[ext_resource type="PackedScene" uid="uid://bt3efkir0qj5a" path="res://src/entities/players/player/Player_1.tscn" id="11_4jwpr"]
[ext_resource type="PackedScene" uid="uid://dhn2bcuyl51ko" path="res://src/entities/players/player/Player_2.tscn" id="12_yl7g8"]
[ext_resource type="PackedScene" uid="uid://b1j0raguimpa5" path="res://src/environment/objects/doors/locked_door/LockedDoorAccess1.tscn" id="13_5ym5c"]
[ext_resource type="PackedScene" uid="uid://b5m18k3ui14sh" path="res://src/entities/enemies/EnemyGunner/EnemyGunner.tscn" id="13_on4sr"]
[ext_resource type="PackedScene" uid="uid://dhut703s63d4i" path="res://src/environment/objects/security_camera/BrokenSecurityCamera.tscn" id="14_imnkd"]
[ext_resource type="PackedScene" uid="uid://csxsxlroto2c2" path="res://src/environment/objects/security_camera/SecurityCamera.tscn" id="14_tvgma"]
[ext_resource type="PackedScene" uid="uid://cxlt4jeydgkjr" path="res://src/environment/objects/doors/locked_door/LockedDoorAccess2.tscn" id="14_wrbhq"]
[ext_resource type="PackedScene" uid="uid://biextgedqdqjw" path="res://src/environment/objects/doors/base_door/BaseDoor.tscn" id="15_3118q"]
[ext_resource type="PackedScene" uid="uid://jufklww1jes7" path="res://src/environment/objects/security_camera/FastSecurityCamera.tscn" id="15_5846h"]
[ext_resource type="PackedScene" uid="uid://c8vewnhwi01b5" path="res://src/environment/objects/doors/locked_door/LockedDoorAccess3.tscn" id="15_f31v2"]
[ext_resource type="PackedScene" uid="uid://balu4oxextlup" path="res://src/environment/objects/doors/base_door/OpenedDoor.tscn" id="16_4rpjn"]
[ext_resource type="PackedScene" uid="uid://dbx1rpyubhv4l" path="res://src/environment/objects/light/Light.tscn" id="16_7dlqq"]
[ext_resource type="PackedScene" uid="uid://go1loxy8eewn" path="res://src/environment/objects/security_camera/FrozenSecurityCameraLeft.tscn" id="16_pxi2i"]
[ext_resource type="PackedScene" uid="uid://5fx8ose3rmii" path="res://test/PathPoint.tscn" id="16_s17md"]
[ext_resource type="PackedScene" uid="uid://cmnsgavja30fm" path="res://src/environment/objects/security_camera/FrozenSecurityCameraRight.tscn" id="17_78oaq"]
[ext_resource type="Texture2D" uid="uid://cgahngqvpti2k" path="res://test/tilemap_color_packed.png" id="17_eefxk"]
[ext_resource type="PackedScene" uid="uid://bkc7hsoprwy5i" path="res://src/environment/objects/safe/Flag.tscn" id="17_eevua"]
[ext_resource type="Script" path="res://src/environment/base_world/UILayer.gd" id="17_oyw46"]
[ext_resource type="PackedScene" uid="uid://u26gyr5m3civ" path="res://src/UI/BurglarUI/BurglarUI.tscn" id="18_3djpd"]
[ext_resource type="PackedScene" uid="uid://c8o8vd78s6ix3" path="res://src/UI/pause/Pause.tscn" id="19_af5dx"]
[ext_resource type="PackedScene" uid="uid://bmc7jegt7sp0d" path="res://src/entities/enemies/EnemyGunner/EnemyGunnerStationary.tscn" id="19_qdglc"]
[ext_resource type="PackedScene" uid="uid://brln845ragryl" path="res://test/KeyHintAttack.tscn" id="22_k6tqd"]
[ext_resource type="PackedScene" uid="uid://caqoo3m3vk01a" path="res://test/KeyHintNextWeapon.tscn" id="23_cg3bj"]
[ext_resource type="PackedScene" uid="uid://bj6oqtptfjvii" path="res://test/KeyHintPrevWeapon.tscn" id="24_hhow1"]
[ext_resource type="Shader" path="res://src/environment/base_world/vignette.gdshader" id="29_koson"]
[ext_resource type="Texture2D" uid="uid://dj2yehclmy7hg" path="res://src/environment/objects/vision.png" id="30_ibajk"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_4nxuh"]
resource_name = "Weapons"
scenes/1/scene = ExtResource("2_8dc8r")
scenes/2/scene = ExtResource("3_8hfvc")
scenes/3/scene = ExtResource("4_n3v0x")
scenes/4/scene = ExtResource("5_5m2br")
scenes/5/scene = ExtResource("6_kj0xf")
scenes/6/scene = ExtResource("7_yrpxr")
scenes/7/scene = ExtResource("8_hhgiv")
scenes/8/scene = ExtResource("9_la3tv")
scenes/9/scene = ExtResource("10_7edd8")
scenes/10/scene = ExtResource("3_xi6l6")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_ne2tu"]
resource_name = "Doors"
scenes/2/scene = ExtResource("13_5ym5c")
scenes/3/scene = ExtResource("14_wrbhq")
scenes/4/scene = ExtResource("15_f31v2")
scenes/5/scene = ExtResource("15_3118q")
scenes/6/scene = ExtResource("16_4rpjn")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_ex3vh"]
resource_name = "Player"
scenes/1/scene = ExtResource("11_4jwpr")
scenes/3/scene = ExtResource("12_yl7g8")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_woe85"]
resource_name = "Enemies"
scenes/1/scene = ExtResource("13_on4sr")
scenes/2/scene = ExtResource("14_tvgma")
scenes/3/scene = ExtResource("14_imnkd")
scenes/4/scene = ExtResource("15_5846h")
scenes/5/scene = ExtResource("16_pxi2i")
scenes/6/scene = ExtResource("17_78oaq")
scenes/7/scene = ExtResource("19_qdglc")

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_rykx7"]
resource_name = "Light"
scenes/1/scene = ExtResource("16_7dlqq")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_aiiii"]
vertices = PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)
polygons = [PackedInt32Array(0, 1, 2, 3)]
outlines = [PackedVector2Array(-32, -32, 32, -32, 32, 32, -32, 32)]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8tw4l"]
resource_name = "Prototype"
texture = ExtResource("17_eefxk")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_aiiii")
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
5:0/0 = 0
5:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:0/0/physics_layer_0/angular_velocity = 0.0
6:0/0 = 0
6:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:0/0/physics_layer_0/angular_velocity = 0.0
7:0/0 = 0
7:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:0/0/physics_layer_0/angular_velocity = 0.0
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
4:1/0 = 0
4:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:1/0/physics_layer_0/angular_velocity = 0.0
5:1/0 = 0
5:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:1/0/physics_layer_0/angular_velocity = 0.0
6:1/0 = 0
6:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:1/0/physics_layer_0/angular_velocity = 0.0
7:1/0 = 0
7:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:1/0/physics_layer_0/angular_velocity = 0.0
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
4:2/0 = 0
4:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:2/0/physics_layer_0/angular_velocity = 0.0
5:2/0 = 0
5:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:2/0/physics_layer_0/angular_velocity = 0.0
6:2/0 = 0
6:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:2/0/physics_layer_0/angular_velocity = 0.0
7:2/0 = 0
7:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:2/0/physics_layer_0/angular_velocity = 0.0
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
1:3/0 = 0
1:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:3/0/physics_layer_0/angular_velocity = 0.0
2:3/0 = 0
2:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:3/0/physics_layer_0/angular_velocity = 0.0
3:3/0 = 0
3:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:3/0/physics_layer_0/angular_velocity = 0.0
4:3/0 = 0
4:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:3/0/physics_layer_0/angular_velocity = 0.0
5:3/0 = 0
5:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:3/0/physics_layer_0/angular_velocity = 0.0
5:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(32, -32, -32, -32, -32, 32, 32, 32)
6:3/0 = 0
6:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:3/0/physics_layer_0/angular_velocity = 0.0
7:3/0 = 0
7:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:3/0/physics_layer_0/angular_velocity = 0.0
0:4/0 = 0
0:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:4/0/physics_layer_0/angular_velocity = 0.0
1:4/0 = 0
1:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:4/0/physics_layer_0/angular_velocity = 0.0
2:4/0 = 0
2:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:4/0/physics_layer_0/angular_velocity = 0.0
3:4/0 = 0
3:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:4/0/physics_layer_0/angular_velocity = 0.0
4:4/0 = 0
4:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:4/0/physics_layer_0/angular_velocity = 0.0
5:4/0 = 0
5:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:4/0/physics_layer_0/angular_velocity = 0.0
6:4/0 = 0
6:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:4/0/physics_layer_0/angular_velocity = 0.0
7:4/0 = 0
7:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:4/0/physics_layer_0/angular_velocity = 0.0
0:5/0 = 0
0:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:5/0/physics_layer_0/angular_velocity = 0.0
1:5/0 = 0
1:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:5/0/physics_layer_0/angular_velocity = 0.0
2:5/0 = 0
2:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:5/0/physics_layer_0/angular_velocity = 0.0
3:5/0 = 0
3:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:5/0/physics_layer_0/angular_velocity = 0.0
4:5/0 = 0
4:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:5/0/physics_layer_0/angular_velocity = 0.0
5:5/0 = 0
5:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:5/0/physics_layer_0/angular_velocity = 0.0
6:5/0 = 0
6:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:5/0/physics_layer_0/angular_velocity = 0.0
7:5/0 = 0
7:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:5/0/physics_layer_0/angular_velocity = 0.0
7:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8.5, -8, -8, -12, 7.5, -12, 8, -8, 12, -8, 12, 8.5, 8.5, 8.5, -8, 12, -8, 8, -12, 8.5, -12, -8)
0:6/0 = 0
0:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:6/0/physics_layer_0/angular_velocity = 0.0
1:6/0 = 0
1:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:6/0/physics_layer_0/angular_velocity = 0.0
2:6/0 = 0
2:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:6/0/physics_layer_0/angular_velocity = 0.0
3:6/0 = 0
3:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:6/0/physics_layer_0/angular_velocity = 0.0
4:6/0 = 0
4:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:6/0/physics_layer_0/angular_velocity = 0.0
5:6/0 = 0
5:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:6/0/physics_layer_0/angular_velocity = 0.0
6:6/0 = 0
6:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:6/0/physics_layer_0/angular_velocity = 0.0
7:6/0 = 0
7:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:6/0/physics_layer_0/angular_velocity = 0.0
0:7/0 = 0
0:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:7/0/physics_layer_0/angular_velocity = 0.0
1:7/0 = 0
1:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:7/0/physics_layer_0/angular_velocity = 0.0
2:7/0 = 0
2:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:7/0/physics_layer_0/angular_velocity = 0.0
3:7/0 = 0
3:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:7/0/physics_layer_0/angular_velocity = 0.0
4:7/0 = 0
4:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:7/0/physics_layer_0/angular_velocity = 0.0
5:7/0 = 0
5:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:7/0/physics_layer_0/angular_velocity = 0.0
6:7/0 = 0
6:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
6:7/0/physics_layer_0/angular_velocity = 0.0
7:7/0 = 0
7:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
7:7/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_p877y"]
resource_name = "Markers"
scenes/1/scene = ExtResource("16_s17md")
scenes/2/scene = ExtResource("17_eevua")
scenes/4/scene = ExtResource("22_k6tqd")
scenes/5/scene = ExtResource("23_cg3bj")
scenes/6/scene = ExtResource("24_hhow1")

[sub_resource type="TileSet" id="TileSet_aq6jc"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
navigation_layer_0/layers = 1
sources/3 = SubResource("TileSetScenesCollectionSource_woe85")
sources/0 = SubResource("TileSetScenesCollectionSource_4nxuh")
sources/2 = SubResource("TileSetScenesCollectionSource_ex3vh")
sources/5 = SubResource("TileSetScenesCollectionSource_rykx7")
sources/6 = SubResource("TileSetAtlasSource_8tw4l")
sources/7 = SubResource("TileSetScenesCollectionSource_p877y")
sources/1 = SubResource("TileSetScenesCollectionSource_ne2tu")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_mckdv"]
shader = ExtResource("29_koson")
shader_parameter/vignette_intensity = 0.4
shader_parameter/vignette_opacity = 0.5
shader_parameter/vignette_rgb = Color(0, 0, 0, 1)

[node name="Main" type="Node2D"]
script = ExtResource("1_8sg6m")

[node name="World" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = SubResource("TileSet_aq6jc")
format = 2
layer_0/name = "Lights"
layer_1/name = "Objects"
layer_1/enabled = true
layer_1/modulate = Color(1, 1, 1, 1)
layer_1/y_sort_enabled = true
layer_1/y_sort_origin = 0
layer_1/z_index = 0
layer_1/tile_data = PackedInt32Array()
layer_2/name = "Ground"
layer_2/enabled = true
layer_2/modulate = Color(1, 1, 1, 1)
layer_2/y_sort_enabled = false
layer_2/y_sort_origin = 0
layer_2/z_index = -3
layer_2/tile_data = PackedInt32Array()
layer_3/name = "PatrolPaths"
layer_3/enabled = true
layer_3/modulate = Color(1, 1, 1, 1)
layer_3/y_sort_enabled = false
layer_3/y_sort_origin = 0
layer_3/z_index = 1
layer_3/tile_data = PackedInt32Array()

[node name="UILayer" type="CanvasLayer" parent="."]
script = ExtResource("17_oyw46")

[node name="BurglarUI" parent="UILayer" instance=ExtResource("18_3djpd")]

[node name="Pause" parent="UILayer" instance=ExtResource("19_af5dx")]

[node name="Vignette" type="TextureRect" parent="UILayer"]
material = SubResource("ShaderMaterial_mckdv")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("30_ibajk")
